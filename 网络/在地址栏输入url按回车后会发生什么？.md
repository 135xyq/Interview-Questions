# 在地址栏输入url按回车后会发生什么？

- url解析:

  根据输入的url地址解析出传输协议和请求的资源地址，如果协议或者主机名不合法则将url内容交给搜索引擎。

  否则检查url中是否有非法字符，如果有则转义后再进行下一过程。

- 浏览器会先查看本地缓存, 如果缓存中有本次url对应的资源, 则使用缓存不再发送http请求

- 如无缓存, 则进行DNS解析得到服务器的IP地址

- 浏览器向服务器发出建立TCP连接的申请, 三次握手后, 连接建立

- 浏览器自动设置请求头中的cookie, 协议版本, 发出get请求

- 服务器接受请求, 进入后端处理流程. 请求处理后, 服务器响应一个http报文给浏览器

- 浏览器根据响应头中的content-type字段识别响应类型, 若为text/html, 则进行html解析, 否则做其他处理

- 浏览器开始解析html文件, 若遇到外部资源链接, 则进一步发出请求

- 浏览器生成DOM树和CSSOM树, 一边生成一边将两者合并得到render树, 最终计算每个结点的位置和大小, 并且利用GPU将结点渲染至屏幕形成网页。

